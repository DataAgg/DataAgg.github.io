import{w as ln,c as k}from"./path.aUcfwwLI.js";import{ba as an,bb as F,bc as w,bd as rn,be as g,aa as on,bf as J,bg as _,bh as un,bi as t,bj as sn,bk as tn,bl as fn}from"./index.BZs_qVOt.js";function cn(n){return n.innerRadius}function gn(n){return n.outerRadius}function yn(n){return n.startAngle}function mn(n){return n.endAngle}function pn(n){return n&&n.padAngle}function dn(n,t,r,c,a,e,u,i){var o=r-n,y=c-t,l=u-a,f=i-e,s=f*o-l*y;if(!(s*s<g))return[n+(s=(l*(t-e)-f*(n-a))/s)*o,t+s*y]}function U(n,t,r,c,a,e,u){var i=n-r,o=t-c,y=(u?e:-e)/J(i*i+o*o),l=y*o,f=-y*i,s=n+l,p=t+f,x=r+l,g=c+f,h=(s+x)/2,v=(p+g)/2,d=x-s,w=g-p,b=d*d+w*w,m=a-e,k=s*g-x*p,F=(w<0?-1:1)*J(fn(0,m*m*b-k*k)),T=(k*w-d*F)/b,A=(-k*d-w*F)/b,R=(k*w+d*F)/b,U=(-k*d+w*F)/b,_=T-h,j=A-v,q=R-h,B=U-v;return _*_+j*j>q*q+B*B&&(T=R,A=U),{cx:T,cy:A,x01:-l,y01:-f,x11:T*(a/m-1),y11:A*(a/m-1)}}function vn(){var n=cn,r=gn,c=k(0),a=null,e=yn,u=mn,i=pn,o=null,y=ln(l);function l(){var l,f,s=+n.apply(this,arguments),p=+r.apply(this,arguments),x=e.apply(this,arguments)-rn,h=u.apply(this,arguments)-rn,v=un(h-x),d=h>x;if(o||(o=l=y()),p<s&&(f=p,p=s,s=f),p>g)if(v>on-g)o.moveTo(p*F(x),p*w(x)),o.arc(0,0,p,x,h,!d),s>g&&(o.moveTo(s*F(h),s*w(h)),o.arc(0,0,s,h,x,d));else{var b,m,k=x,T=h,A=x,R=h,j=v,q=v,B=i.apply(this,arguments)/2,I=B>g&&(a?+a.apply(this,arguments):J(s*s+p*p)),L=_(un(p-s)/2,+c.apply(this,arguments)),O=L,P=L;if(I>g){var V=sn(I/s*w(B)),Z=sn(I/p*w(B));(j-=2*V)>g?(A+=V*=d?1:-1,R-=V):(j=0,A=R=(x+h)/2),(q-=2*Z)>g?(k+=Z*=d?1:-1,T-=Z):(q=0,k=T=(x+h)/2)}var z=p*F(k),C=p*w(k),D=s*F(R),E=s*w(R);if(L>g){var G,H=p*F(T),K=p*w(T),M=s*F(A),N=s*w(A);if(v<an)if(G=dn(z,C,M,N,H,K,D,E)){var Q=z-G[0],S=C-G[1],W=H-G[0],X=K-G[1],Y=1/w(tn((Q*W+S*X)/(J(Q*Q+S*S)*J(W*W+X*X)))/2),$=J(G[0]*G[0]+G[1]*G[1]);O=_(L,(s-$)/(Y-1)),P=_(L,(p-$)/(Y+1))}else O=P=0}q>g?P>g?(b=U(M,N,z,C,p,P,d),m=U(H,K,D,E,p,P,d),o.moveTo(b.cx+b.x01,b.cy+b.y01),P<L?o.arc(b.cx,b.cy,P,t(b.y01,b.x01),t(m.y01,m.x01),!d):(o.arc(b.cx,b.cy,P,t(b.y01,b.x01),t(b.y11,b.x11),!d),o.arc(0,0,p,t(b.cy+b.y11,b.cx+b.x11),t(m.cy+m.y11,m.cx+m.x11),!d),o.arc(m.cx,m.cy,P,t(m.y11,m.x11),t(m.y01,m.x01),!d))):(o.moveTo(z,C),o.arc(0,0,p,k,T,!d)):o.moveTo(z,C),s>g&&j>g?O>g?(b=U(D,E,H,K,s,-O,d),m=U(z,C,M,N,s,-O,d),o.lineTo(b.cx+b.x01,b.cy+b.y01),O<L?o.arc(b.cx,b.cy,O,t(b.y01,b.x01),t(m.y01,m.x01),!d):(o.arc(b.cx,b.cy,O,t(b.y01,b.x01),t(b.y11,b.x11),!d),o.arc(0,0,s,t(b.cy+b.y11,b.cx+b.x11),t(m.cy+m.y11,m.cx+m.x11),d),o.arc(m.cx,m.cy,O,t(m.y11,m.x11),t(m.y01,m.x01),!d))):o.arc(0,0,s,R,A,d):o.lineTo(D,E)}else o.moveTo(0,0);if(o.closePath(),l)return o=null,l+""||null}return l.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,c=(+e.apply(this,arguments)+ +u.apply(this,arguments))/2-an/2;return[F(c)*t,w(c)*t]},l.innerRadius=function(t){return arguments.length?(n="function"==typeof t?t:k(+t),l):n},l.outerRadius=function(n){return arguments.length?(r="function"==typeof n?n:k(+n),l):r},l.cornerRadius=function(n){return arguments.length?(c="function"==typeof n?n:k(+n),l):c},l.padRadius=function(n){return arguments.length?(a=null==n?null:"function"==typeof n?n:k(+n),l):a},l.startAngle=function(n){return arguments.length?(e="function"==typeof n?n:k(+n),l):e},l.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:k(+n),l):u},l.padAngle=function(n){return arguments.length?(i="function"==typeof n?n:k(+n),l):i},l.context=function(n){return arguments.length?(o=n??null,l):o},l}export{vn as a};