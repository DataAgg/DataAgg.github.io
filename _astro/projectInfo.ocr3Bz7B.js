import{_ as y,t as n,u as D,a as k,c as T,m as P,P as C,b as I,d as M,T as S,h as V,M as U,i as B,e as G,f as O}from"./index.BZs_qVOt.js";import{d as H,o as d,c as i,a as t,t as s,g as h,b as c,F as u,r as v,e as j,f as N}from"./runtime-core.esm-bundler.dIYQjm2k.js";function E(t,e){let a="/project/index.html";return"view"===e?a="/projectView/index.html":"print"===e&&(a="/projectPrint/index.html"),`${a}?id=${t}`}const F=H({__name:"projectInfo",setup(t,{expose:e}){e();let a="",s=!0;const l=[{label:n.project.applyTask,key:"applyTask"},{label:n.project.submitTask,key:"submitTask"},{label:n.project.testTask,key:"testTask"},{label:n.project.releaseTask,key:"releaseTask"}],o=j(new G("")),r=j(""),c=j(new O);N((async()=>{a=D("history").id??"001",s=document.documentElement.classList.contains("dark");const t=await k.get(`/projects/project${a}.md`);r.value=t.data.toString();const e=await k.get(`/projects/project${a}.json`),l=T(e.data);c.value=l,o.value=l.planProject}));const d={get projectID(){return a},set projectID(t){a=t},get isDark(){return s},set isDark(t){s=t},ActionOptions:l,planProject:o,pInfoMdText:r,projectData:c,get moneyText(){return P},get t(){return n},get projectUrl(){return E},ProjectCostCom:C,ProjectOtherCostCom:I,ProjectSumCostCom:M,TaskCosts:S,TaskStatus:V,MDViewer:U,MermaidSVG:B};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),L={class:"wproject max-w-6xl mx-auto px-4 pb-6 <sm:px-1"},z={class:"md-body md:py-6 sm:py-1"},A={class:"ds-navbar"},q={class:"flex-1 justify-center text-default text-4xl font-bold"},J={class:"flex-none"},K=["href"],Q=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0-4 0"}),t("path",{d:"M21 12c-2.4 4-5.4 6-9 6c-3.6 0-6.6-2-9-6c2.4-4 5.4-6 9-6c3.6 0 6.6 2 9 6"})])],-1),R=[Q],W=["href"],X=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[t("path",{d:"M17 17h2a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h2m10-8V5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v4"}),t("path",{d:"M7 15a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2z"})])],-1),Y=[X],Z={class:"ds-card ds-card-compact w-auto shadow-xl mb-6"},$={class:"ds-stats m-6 bg-white dark:bg-slate-900"},tt={class:"ds-stat place-items-center"},et={class:"ds-stat-title text-default dark:text-slate-300"},st={class:"ds-stat-value text-2xl text-nowrap text-default"},at={class:"text-gray-500 dark:text-slate-500"},ot={class:"ds-stat place-items-center"},lt={class:"ds-stat-title text-default dark:text-slate-300"},ct={class:"ds-stat-value text-2xl text-nowrap text-default"},rt={class:"text-gray-500 dark:text-slate-500"},nt={class:"ds-stat place-items-center"},dt={class:"ds-stat-title text-default dark:text-slate-300"},it={class:"ds-stat-value text-2xl text-nowrap text-default"},_t={role:"tablist",class:"ds-tabs ds-tabs-lg ds-tabs-bordered w-full"},pt=["aria-label"],ht={role:"tabpanel",class:"ds-tab-content ds-bg-base-100 ds-border-base-300 ds-rounded-box"},bt=["aria-label"],mt={role:"tabpanel",class:"ds-tab-content ds-bg-base-100 ds-border-base-300 ds-rounded-box"},xt={class:"ds-collapse-title"},jt={class:"font-bold text-lg"},wt={class:"pl-6"},ft={class:"ds-collapse-content"},kt={class:"ds-table w-full border-collapse empty-cells-visible"},ut={class:"ds-table-header-group font-bold"},vt={class:"ds-table-row"},gt={class:"wtablecell min-w-40px text-nowrap"},yt={class:"wtablecell min-w-70px text-nowrap"},Dt={class:"wtablecell"},Tt={class:"wtablecell min-w-40px text-nowrap"},Pt={class:"wtablecell min-w-40px"},Ct={class:"wtablecell min-w-40px text-nowrap"},It={class:"ds-table-row-group"},Mt={class:"wtablecell min-w-40px text-nowrap"},St={class:"wtablecell min-w-70px text-nowrap"},Vt={class:"wtablecell"},Ut={class:"text-gray-500"},Bt={class:"wtablecell font-medium min-w-40px text-nowrap"},Gt={class:"wtablecell font-medium"},Ot={class:"wtablecell font-medium min-w-40px text-nowrap"},Ht=["aria-label"],Nt={role:"tabpanel",class:"ds-tab-content ds-bg-base-100 ds-border-base-300 ds-rounded-box"};function Et(e,a,l,o,r,n){return d(),i("section",L,[t("div",z,[t("div",A,[t("div",q,s(o.planProject.title),1),t("div",J,[t("a",{class:"ds-btn ds-btn-ghost",href:o.projectUrl(o.projectID,"view"),target:"_blank"},R,8,K),t("a",{class:"ds-btn ds-btn-ghost",href:o.projectUrl(o.projectID,"print"),target:"_blank"},Y,8,W)])]),t("div",Z,[t("div",$,[t("div",tt,[t("div",et,s(o.t.project.tasks),1),t("div",st,[h(s(o.projectData.workingTasks)+" ",1),t("span",at,"/"+s(o.projectData.finishedTasks)+"/"+s(o.projectData.allTasks),1)])]),t("div",ot,[t("div",lt,s(o.t.project.feeStates),1),t("div",ct,[h(s(o.moneyText(o.projectData.usedCost,2,!0))+" ",1),t("span",rt,"/"+s(o.moneyText(o.projectData.total,1,!0)+o.planProject.symbol1),1)])]),t("div",nt,[t("div",dt,s(o.t.project.vault),1),t("div",it,s(o.moneyText(o.planProject.vault,2,!0)+o.planProject.symbol2),1)])])]),t("div",_t,[t("input",{type:"radio",name:"projectInfo",role:"tab",class:"ds-tab text-default",style:{"min-width":"100px"},"aria-label":o.t.project.info},null,8,pt),t("div",ht,[c(o.MDViewer,{text:o.pInfoMdText},null,8,["text"])]),t("input",{type:"radio",name:"projectInfo",role:"tab",class:"ds-tab text-default",style:{"min-width":"100px"},"aria-label":o.t.project.plans,checked:""},null,8,bt),t("div",mt,[(d(!0),i(u,null,v(o.projectData.sections,(([e,a],l)=>(d(),i("details",{class:"ds-collapse ds-collapse-arrow",open:"",key:e},[t("summary",xt,[t("span",jt,s(a.categoryTxt()+a.title),1),t("span",wt,s(a.summary),1)]),t("div",ft,[h(s(a.description)+" ",1),c(o.MermaidSVG,{id:"sectionSVG-"+l,definition:a.mdGantt,"is-dark":o.isDark},null,8,["id","definition","is-dark"]),t("table",kt,[t("thead",ut,[t("tr",vt,[t("th",gt,s(o.t.tasktable.no),1),t("th",yt,s(o.t.tasktable.category),1),t("th",Dt,s(o.t.tasktable.title),1),t("th",Tt,s(o.t.tasktable.timeCost),1),t("th",Pt,s(o.t.feetable.costMan),1),t("th",Ct,s(o.t.tasktable.status),1)])]),t("tbody",It,[(d(!0),i(u,null,v(a.tasks.items,((e,a)=>(d(),i("tr",{key:a,class:"ds-table-row"},[t("td",Mt,s(e.id),1),t("td",St,s(e.category),1),t("td",Vt,[h(s(e.title)+" ",1),t("div",Ut,s(e.description),1)]),t("td",Bt,s(e.costDays+o.t.project.day),1),t("td",Gt,[c(o.TaskCosts,{task:e},null,8,["task"])]),t("td",Ot,[c(o.TaskStatus,{task:e},null,8,["task"])])])))),128))])])])])))),128))]),t("input",{type:"radio",name:"projectInfo",role:"tab",class:"ds-tab text-default",style:{"min-width":"100px"},"aria-label":o.t.project.budgets},null,8,Ht),t("div",Nt,[t("h3",null,s(o.t.project.feeDetail1),1),c(o.ProjectCostCom,{"plan-project":o.planProject,"project-data":o.projectData},null,8,["plan-project","project-data"]),t("h3",null,s(o.t.project.feeDetail2),1),c(o.ProjectOtherCostCom,{"plan-project":o.planProject,"project-data":o.projectData},null,8,["plan-project","project-data"]),t("h3",null,s(o.t.project.feeDetail3),1),c(o.ProjectSumCostCom,{"plan-project":o.planProject,"project-data":o.projectData},null,8,["plan-project","project-data"])])])])])}const At=y(F,[["render",Et]]);export{At as default};