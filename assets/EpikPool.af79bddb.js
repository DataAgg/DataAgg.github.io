import{_ as H,i as J,r as p,j as K,k as X,l as Y,o as B,c as A,e as t,w as s,u as e,N as E,m as h,n as y,a as l,b as c,t as a,p as Z,q as R,s as w,v as m,x as F,F as j,y as z,z as G,A as P,B as ee,C as i,D as f,E as te,G as se,H as le}from"./app.99e6884a.js";function M(x){return x!=null&&x.QualityAdjPower!=null?parseInt(x.QualityAdjPower)/1024/1024:-1}const n=x=>(se("data-v-9fd5c5e4"),x=x(),le(),x),ue={class:"w-auto"},ae={class:"text-center text-xs"},oe=c(" \u4F59\u989D:"),ne=n(()=>l("br",null,null,-1)),de=n(()=>l("br",null,null,-1)),ie={class:"text-center text-xs"},re=c(" \u7B97\u529B:"),ce=n(()=>l("br",null,null,-1)),_e=n(()=>l("br",null,null,-1)),ve={class:"text-center text-xs"},xe=c(" \u6D41\u91CF:"),he=n(()=>l("br",null,null,-1)),fe=n(()=>l("div",{class:"text-xs text-right"},"\u6536\u76CA:",-1)),pe=n(()=>l("div",{class:"text-xs text-right"},"\u57FA\u7840\u8D28\u62BC:",-1)),ge=n(()=>l("div",{class:"text-xs text-right"},"\u7B97\u529B:",-1)),Be={class:"text-xs text-red-400 min-h-36px"},we=n(()=>l("div",{class:"text-sm text-right"},"NodeID:",-1)),Pe=n(()=>l("div",{class:"text-sm text-right"},"Owner:",-1)),Ce=n(()=>l("div",{class:"text-sm text-right"},"Worker:",-1)),De=n(()=>l("div",{class:"text-sm text-right"},"Coinbase:",-1)),me=n(()=>l("div",{class:"text-sm text-right"},"ControlAddresses:",-1)),Me={class:"text-sm underline"},be=n(()=>l("div",{class:"text-sm text-right"},"\u6D41\u91CF\u8D28\u62BC:",-1)),ke={class:"text-sm underline"},Ae=n(()=>l("div",{class:"text-sm text-right"},"\u57FA\u7840\u8D28\u62BC:",-1)),Ee={class:"text-sm underline"},ye=n(()=>l("div",{class:"text-sm text-right"},"\u6211\u7684\u8D28\u62BC:",-1)),Fe={class:"text-sm underline"},Ne=n(()=>l("div",{class:"text-sm text-right"},"\u7B97\u529B:",-1)),Se=n(()=>l("div",{class:"text-sm text-right"},"\u603B\u7B97\u529B:",-1)),Ie={class:"text-sm underline"},We=n(()=>l("div",{class:"text-sm text-right"},"\u51FA\u5757\u6570:",-1)),Te=n(()=>l("div",{class:"text-sm text-right"},"\u8282\u70B9\u6536\u76CA:",-1)),Re=n(()=>l("div",{class:"text-sm text-right"},"SectorSize:",-1)),je={class:"text-sm underline"},ze=n(()=>l("div",{class:"text-sm text-right"},"WorkerChangeEpoch:",-1)),Ge={class:"text-sm underline"},Qe=n(()=>l("div",{class:"text-sm text-right"},"WindowPoStProofType:",-1)),Oe={class:"text-sm underline"},Ue=n(()=>l("div",{class:"text-sm text-right"},"WindowPoStPartitionSectors:",-1)),Le={class:"text-sm underline"},Ve=n(()=>l("div",{class:"text-sm text-right"},"ConsensusFaultElapsed:",-1)),$e={class:"text-sm underline"},qe=n(()=>l("div",{class:"text-sm text-right"},"LatestWinBlock:",-1)),He={class:"text-sm underline"},Je=n(()=>l("div",{class:"text-sm text-right"},"PeerId:",-1)),Ke={class:"text-xs underline"},Xe=J({props:{poolID:String},setup(x){const N=x,_=p({}),S=p(Array()),I=p("all");K(()=>{X("/epik/"+N.poolID+".json").then(u=>{var r=u;_.value=r,S.value=r.miners})});const Q=Y(()=>{var u=[["\u5168\u90E8","all",150],["\u4F4E\u7B97\u529B","lowPower",150],["\u6709\u7B97\u529B","hasPower",150],["\u5C11\u8D28\u62BC","lowPledger",150],["\u6EE1\u8D28\u62BC","hasPledger",150],["0\u4EA7\u51FA","lowReward",150],["\u5DF2\u4EA7\u51FA","hasReward",150],["\u672A\u7ED1\u5B9A","noBind",150]],r=[];for(var d of u)r.push({title:d[0],value:d[1],num:d[2]});return r});function O(u){I.value=u}function v(u,r="EPK"){return Z(u,2)+" "+r}function U(u){let r="";u.storagePledge!=u.MiningPledge&&(r+="\u8D28\u62BC\u9519\u8BEF ",g(u,"\u8D28\u62BC\u9519\u8BEF"));let d=M(u.MinerPower);return u.MiningPledge>=1e3&&d<33&&d>0&&(r+="\u4F4E\u7B97\u529B ",g(u,"\u4F4E\u7B97\u529B")),u.RetrievalPledger!=N.poolID&&(r+="\u6D41\u91CF\u7ED1\u5B9A\u4E0D\u540C ",g(u,"\u6D41\u91CF\u7ED1\u5B9A\u4E0D\u540C")),u.Binded||(r+="\u672A\u7ED1\u5B9A ",g(u,"\u672A\u7ED1\u5B9A")),r}function g(u,r){console.log(u.name+"["+u.ID+"]\u7B97\u529B:"+M(u.MinerPower)+",\u8D28\u62BC:"+u.MiningPledge+"/"+u.storagePledge+"-->"+r)}function L(u){return u.MiningPledge<=0||u.MyPledge<=0?" text-gray-400":u.MiningPledge>=1e3&&M(u.MinerPower)<=0?(g(u,"0\u7B97\u529B")," text-red-400"):""}function C(u){return u.WinBlocks>0?"":" text-gray-400"}function W(u){return u.MinerPower.QualityAdjPower>0?"":" text-red-400"}function b(u){return"https://explorer.epik-protocol.io/#/address/detail?address="+u}function V(u){return"https://explorer.epik-protocol.io/#/address/coinbase?coinbase="+u}const k=p(!1),T=p(""),o=p();function $(u,r){k.value=!0,T.value="NO."+u+" - "+r.ID,o.value=r}return(u,r)=>(B(),A("div",ue,[t(e(F),{size:"small",hoverable:"",class:"mb-4"},{footer:s(()=>[t(e(E),{cols:"1 240:1 360:2 480:3 560:3 640:3","x-gap":3,"y-gap":3},{default:s(()=>[t(e(h),{class:"text-center"},{default:s(()=>[t(e(y),{type:"circle",percentage:_.value.vestedRate},{default:s(()=>[l("span",ae,[oe,ne,c(" "+a(v(_.value.vested,""))+" ",1),de,c(" "+a(v(_.value.vesting,"")),1)])]),_:1},8,["percentage"])]),_:1}),t(e(h),{class:"text-center"},{default:s(()=>[t(e(y),{type:"circle",percentage:_.value.powerRate},{default:s(()=>[l("span",ie,[re,ce,c(" "+a(_.value.sumPower)+"Mb",1),_e,c(" "+a(v(_.value.powerRate,""))+"% ",1)])]),_:1},8,["percentage"])]),_:1}),t(e(h),{class:"text-center"},{default:s(()=>[t(e(y),{type:"circle",percentage:_.value.retrieveRate},{default:s(()=>[l("span",ve,[xe,he,c(" "+a(v(_.value.retrieve,""))+"Mb ",1)])]),_:1},8,["percentage"])]),_:1})]),_:1})]),default:s(()=>[t(e(E),{cols:"1 240:1 360:2 480:3 560:4 640:4","x-gap":3,"y-gap":3},{default:s(()=>[t(e(h),{span:24,class:"mb-4"},{default:s(()=>[t(e(R),{class:"mb-4"},{header:s(()=>[c(" Coinbase: "+a(x.poolID),1)]),"header-extra":s(()=>[c(a(_.value.userTag),1)]),default:s(()=>[c(" \u603B\u8D44\u4EA7: "+a(v(_.value.total))+" (\u2248$"+a(v(_.value.totalUSDT,""))+") ",1)]),_:1}),t(e(w),{class:"mb-4"})]),_:1}),t(e(h),null,{default:s(()=>[t(e(m),{label:"\u6FC0\u6D3B\u8282\u70B9/\u8282\u70B9\u6570\u91CF",value:_.value.activeMiner},{suffix:s(()=>[c("/ "+a(_.value.totalMiner),1)]),_:1},8,["value"])]),_:1}),t(e(h),null,{default:s(()=>[t(e(m),{label:"\u6D41\u91CF\u8D28\u62BC",value:v(_.value.retrieveBalance)},null,8,["value"])]),_:1}),t(e(h),null,{default:s(()=>[t(e(m),{label:"\u8282\u70B9\u8D28\u62BC",value:v(_.value.sumMiningPledge)},null,8,["value"])]),_:1}),t(e(h),null,{default:s(()=>[t(e(m),{label:"\u51FA\u5757\u6570/\u51FA\u5757\u5956\u52B1",value:_.value.sumBlocks},{suffix:s(()=>[c("/ "+a(v(_.value.sumRewards)),1)]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(e(ee),null,{default:s(()=>[(B(!0),A(j,null,z(e(Q),(d,D)=>(B(),G(e(P),{round:"",size:"small",key:D,color:d.value==I.value?"#38bdf8":"",onClick:q=>O(d.value)},{default:s(()=>[c(a(d.title)+"("+a(d.num)+") ",1)]),_:2},1032,["color","onClick"]))),128))]),_:1}),t(e(E),{cols:"4 320:2 480:3 640:4 800:5 960:5","x-gap":3,"y-gap":3},{default:s(()=>[(B(!0),A(j,null,z(S.value,(d,D)=>(B(),G(e(h),{key:D,class:"min-w-160px"},{default:s(()=>[t(e(F),{size:"small",hoverable:""},{default:s(()=>[t(e(R),null,{header:s(()=>[t(e(i),{class:f("font-bold center w-full"+L(d)),onClick:q=>$(D,d)},{default:s(()=>[c(" #"+a(d.name)+" - "+a(d.ID),1)]),_:2},1032,["class","onClick"]),t(e(w))]),description:s(()=>[t(e(i),{vertical:""},{default:s(()=>[t(e(i),null,{default:s(()=>[fe,l("div",{class:f("text-xs underline"+C(d))},a(v(d.TotalRewards))+"("+a(d.WinBlocks)+"\u4E2A) ",3)]),_:2},1024),t(e(i),null,{default:s(()=>[pe,l("div",{class:f("text-xs underline"+C(d))},a(v(d.MiningPledge)),3)]),_:2},1024),t(e(i),null,{default:s(()=>[ge,l("div",{class:f("text-xs underline"+W(d))},a(e(M)(d.MinerPower))+"Mb ",3)]),_:2},1024)]),_:2},1024)]),action:s(()=>[l("div",Be,a(U(d)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(e(te),{show:k.value,"onUpdate:show":r[0]||(r[0]=d=>k.value=d),class:"w-auto",preset:"dialog",title:T.value,"positive-text":"\u786E\u8BA4"},{default:s(()=>[t(e(F),{bordered:!0,class:"center"},{default:s(()=>[t(e(i),{vertical:"",class:"center"},{default:s(()=>[t(e(i),null,{default:s(()=>[we,t(e(P),{text:"",tag:"a",href:b(o.value.ID),target:"_blank",type:"info",class:"text-sm"},{default:s(()=>[c(a(o.value.ID),1)]),_:1},8,["href"])]),_:1}),t(e(i),null,{default:s(()=>[Pe,t(e(P),{text:"",tag:"a",href:b(o.value.Owner),target:"_blank",type:"info",class:"text-sm"},{default:s(()=>[c(a(o.value.Owner),1)]),_:1},8,["href"])]),_:1}),t(e(i),null,{default:s(()=>[Ce,t(e(P),{text:"",tag:"a",href:b(o.value.Worker),target:"_blank",type:"info",class:"text-sm"},{default:s(()=>[c(a(o.value.Worker),1)]),_:1},8,["href"])]),_:1}),t(e(i),null,{default:s(()=>[De,t(e(P),{text:"",tag:"a",href:V(o.value.Coinbase),target:"_blank",type:"info",class:"text-sm"},{default:s(()=>[c(a(o.value.Coinbase),1)]),_:1},8,["href"])]),_:1}),t(e(i),null,{default:s(()=>[me,l("div",Me,a(o.value.ControlAddresses),1)]),_:1}),t(e(w)),t(e(i),null,{default:s(()=>[be,l("div",ke,a(o.value.RetrievalPledger),1)]),_:1}),t(e(i),null,{default:s(()=>[Ae,l("div",Ee,a(v(o.value.MiningPledge)),1)]),_:1}),t(e(i),null,{default:s(()=>[ye,l("div",Fe,a(v(o.value.MyPledge)),1)]),_:1}),t(e(w)),t(e(i),null,{default:s(()=>[Ne,l("div",{class:f("text-sm underline"+W(o.value))},a(o.value.MinerPower.QualityAdjPower/1024/1024)+"Mb ",3)]),_:1}),t(e(i),null,{default:s(()=>[Se,l("div",Ie,a(o.value.TotalPower.QualityAdjPower/1024/1024/1024)+"Gb ",1)]),_:1}),t(e(i),null,{default:s(()=>[We,l("div",{class:f("text-sm underline"+C(o.value))},a(o.value.WinBlocks)+"\u4E2A",3)]),_:1}),t(e(i),null,{default:s(()=>[Te,l("div",{class:f("text-sm underline"+C(o.value))},a(v(o.value.TotalRewards)),3)]),_:1}),t(e(w)),t(e(i),null,{default:s(()=>[Re,l("div",je,a(o.value.SectorSize/1024/1024)+"Mb ",1)]),_:1}),t(e(i),null,{default:s(()=>[ze,l("div",Ge,a(o.value.WorkerChangeEpoch),1)]),_:1}),t(e(i),null,{default:s(()=>[Qe,l("div",Oe,a(o.value.WindowPoStProofType),1)]),_:1}),t(e(i),null,{default:s(()=>[Ue,l("div",Le,a(o.value.WindowPoStPartitionSectors),1)]),_:1}),t(e(i),null,{default:s(()=>[Ve,l("div",$e,a(o.value.ConsensusFaultElapsed),1)]),_:1}),t(e(i),null,{default:s(()=>[qe,l("div",He,a(o.value.LatestWinBlock),1)]),_:1}),t(e(i),null,{default:s(()=>[Je,l("div",Ke,a(o.value.PeerId),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["show","title"])]))}});var Ze=H(Xe,[["__scopeId","data-v-9fd5c5e4"]]);export{Ze as _};
